!function(t){var i={};function s(e){if(i[e])return i[e].exports;var h=i[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s(1),h=s.n(e);i.default=h.a},function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,s,e){return s&&t(i.prototype,s),e&&t(i,e),i}}();var h=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.startY,this.startTime,this.endTime,this.preY=0,this.disY,this.isOutTop=!1,this.isOutBottom=!1,this.barFadeTimeoutId=null,this.baunceTimeoutId=null,this.barOpacity=1,this.hasSlideUp=!1,this.allListener=[],this._init(i)}return e(t,[{key:"_init",value:function(t){var i=this,s=function(){};this.wrapper=t.wrapper,this.scroller=t.scroller,this.bar=null,this.barClassName=t.barClassName,this.enableFadeout=t.enableFadeout,this.useNativeScroll=t.useNativeScroll,this.enableBar=t.enableBar,this.onStart=t.onStart||s,this.onMove=t.onMove||s,this.onBottom=t.onBottom||s,this.onEnd=t.onEnd||s,this.onLoad=t.onLoad||s,this.onRefresh=t.onRefresh||s,this.autoLoad=t.autoLoad,this.topTip=t.topTip,this.bottomTip=t.bottomTip,this.nomore=!1,this.topTipHeight=0,this.bottomTipHeight=0,this.topTip&&(this.topTip.style.display="block",this.topTipHeight=this.topTip.clientHeight),this.barHeight=this.wrapper.clientHeight*(this.wrapper.clientHeight/this.wrapper.scrollHeight),this.enableBar&&(this.bar=this._createScrollBar())&&(this.bar.style.display="none"),this.useNativeScroll?(this.wrapper.style.overflow="auto",this.scroller.style.marginBottom="-"+this.topTipHeight+"px"):(this.barHeight=this.wrapper.clientHeight*(this.wrapper.clientHeight/this.wrapper.scrollHeight),this.enableBar&&(this.bar=this._createScrollBar())&&(this.bar.style.display="none"),this.scroller.style.overflow="visible",this.wrapper.style.overflow="hidden",this.wrapper.style.position="relative"),this.minOffsetY=-this.topTipHeight,this.maxOffsetY=this.wrapper.clientHeight-this.scroller.clientHeight,this.offsetY=this.minOffsetY,this._tranlate(this.scroller),this._bindEvent(this.wrapper,"touchstart",function(t){i._start(t)}),this._bindEvent(this.wrapper,"touchmove",function(t){i._move(t)}),this._bindEvent(this.wrapper,"touchend",function(t){i._end(t)}),this._bindEvent(window,"resize",function(t){i.refresh()}),this._bindEvent(this.wrapper,"scroll",function(t){i.useNativeScroll&&Math.abs(i.wrapper.scrollTop-Math.abs(i.wrapper.clientHeight-i.wrapper.scrollHeight))<=i.bottomTipHeight&&(i.onBottom(),i.autoLoad&&!i.nomore&&i.onLoad())})}},{key:"refresh",value:function(){this.useNativeScroll?this.offsetY=this.minOffsetY:(this.offsetY>=this.minOffsetY?this.offsetY=this.minOffsetY:this.offsetY<=this.maxOffsetY&&(this.offsetY=this.maxOffsetY),this.maxOffsetY=this.wrapper.clientHeight-this.scroller.clientHeight,this.bar&&(this.barHeight=this.wrapper.clientHeight*(this.wrapper.clientHeight/(this.wrapper.scrollHeight+this.bottomTipHeight)),this.bar.style.height=this.barHeight+"px")),this._tranlate(this.scroller,500)}},{key:"setOffsetY",value:function(t){this.offsetY=t}},{key:"scrollTop",value:function(t){this.useNativeScroll||(this.offsetY=t,this._tranlate(this.scroller,300))}},{key:"setNomore",value:function(t){this.nomore=t}},{key:"destroy",value:function(){this._removeAllEvent()}},{key:"_tranlate",value:function(t,i,s){var e=void 0!=s?s:this.offsetY;if(i||(i=0),t.style.transitionProperty=i?"transform":"none",t.style.transformOrigin="0px 0px 0px",t.style.transitionTimingFunction="cubic-bezier(0.33, 0.66, 0.66, 1)",t.style.transitionDuration=i+"ms",t.style.transform="translateY("+e+"px) translateZ(0)",this.bar&&t==this.scroller){e=0;this.offsetY<this.minOffsetY&&this.offsetY>this.maxOffsetY?e=(this.offsetY-this.minOffsetY)/this.maxOffsetY*(this.wrapper.clientHeight-this.barHeight):this.offsetY<=this.maxOffsetY&&(e=this.wrapper.clientHeight-this.barHeight),this.bar.style.transformOrigin="0px 0px 0px",this.bar.style.transitionTimingFunction="cubic-bezier(0.33, 0.66, 0.66, 1)",this.bar.style.transitionDuration=i+"ms",this.bar.style.transform="translateY("+e+"px) translateZ(0)"}}},{key:"_momentum",value:function(t,i,s,e){var h,o,r,a=t-i,n=Math.abs(a)/s;return o=n*n/(2*(e=e||6e-4))*(a<0?-1:1),r=n/e,(h=this.offsetY+o)<this.maxOffsetY&&this.maxOffsetY<this.minOffsetY?(h=this.maxOffsetY,r=(a=Math.abs(this.offsetY-h))/n):h>this.minOffsetY?(h=this.minOffsetY,r=(a=Math.abs(this.offsetY-h))/n):this.maxOffsetY>this.minOffsetY&&h<this.minOffsetY&&(h=this.minOffsetY),{destOffsetY:Math.round(h),duration:r}}},{key:"_start",value:function(t){var i=(window.getComputedStyle?window.getComputedStyle(this.scroller,null):this.scroller.currentStyle).transform;i.indexOf("matrix")>-1&&(this.bar&&(window.getComputedStyle?window.getComputedStyle(this.bar,null):this.scroller.currentStyle),this.offsetY=Number(i.replace(/matrix\(|\)/g,"").split(",")[5]),this._tranlate(this.scroller)),this.useNativeScroll?(clearTimeout(this.baunceTimeoutId),this.preY=this.startY=t.touches[0].pageY):(this.enableFadeout&&(this.bar.style.transitionDuration="0ms",window.getComputedStyle?window.getComputedStyle(this.bar,null):this.scroller.currentStyle,this.bar.style.opacity=this.barOpacity,this.bar.style.display="block"),this.startTime=(new Date).getTime(),this.preY=this.startY=t.touches[0].pageY,clearTimeout(this.barFadeTimeoutId)),0==this.wrapper.scrollTop&&(this.hasSlideUp=!1),this.onStart(this.offsetY)}},{key:"_move",value:function(i){this.disY=i.touches[0].pageY-this.preY,this.preY=i.touches[0].pageY;var s=(new Date).getTime(),e=-1;s-this.startTime>300&&(this.startTime=s,this.startY=i.touches[0].pageY),this.disY<10&&s-this.startTime>300||(this.useNativeScroll?(this.disY<0&&(this.hasSlideUp=!0),Math.abs(this.wrapper.scrollTop-Math.abs(this.wrapper.clientHeight-this.wrapper.scrollHeight))<2&&this.offsetY+this.disY<this.minOffsetY?(i.preventDefault(),i.stopPropagation(),this.isOutBottom=!0,this.isOutTop=!1,this.disY*=.25,this.offsetY+=this.disY,this._tranlate(this.scroller),e=t.OUT_BOTTOM,!this.nomore&&this.offsetY<-this.bottomTipHeight+this.minOffsetY&&!this.autoLoad&&(e=t.LOAD_ABLE)):0==this.wrapper.scrollTop&&this.offsetY+this.disY>this.minOffsetY&&(this.offsetY>this.minOffsetY||!this.hasSlideUp)?(i.preventDefault(),i.stopPropagation(),this.isOutTop=!0,this.isOutBottom=!1,this.disY*=.25,this.offsetY+=this.disY,this._tranlate(this.scroller),e=t.OUT_TOP,this.offsetY>this.minOffsetY+this.topTipHeight&&(e=t.REFRESH_ABLE)):Math.abs(this.offsetY-this.minOffsetY)>5&&(i.preventDefault(),i.stopPropagation(),this.isOutTop=!1,this.isOutBottom=!1,this.offsetY=this.disY,this._tranlate(this.scroller))):(i.preventDefault(),i.stopPropagation(),this.offsetY<this.maxOffsetY&&this.maxOffsetY<0?(this.isOutBottom=!0,this.isOutTop=!1,this.disY*=.25,this.offsetY+=this.disY,this._tranlate(this.scroller),e=t.OUT_BOTTOM,!this.nomore&&this.offsetY<this.maxOffsetY-this.bottomTipHeight&&!this.autoLoad&&(e=t.LOAD_ABLE)):this.offsetY>this.minOffsetY?(this.isOutTop=!0,this.isOutBottom=!1,this.disY*=.25,this.offsetY+=this.disY,this._tranlate(this.scroller),e=t.OUT_TOP,this.offsetY>=this.minOffsetY+this.topTipHeight&&(e=t.REFRESH_ABLE)):(this.isOutTop=!1,this.isOutBottom=!1,this.offsetY+=this.disY,this._tranlate(this.scroller))),this.onMove(this.offsetY,e))}},{key:"_end",value:function(t){var i=this,s=this.offsetY;this.endTime=(new Date).getTime();var e=this.endTime-this.startTime;if(this.useNativeScroll)this.isOutBottom?(this.offsetY=this.minOffsetY,!this.nomore&&s<-this.bottomTipHeight+this.minOffsetY&&!this.autoLoad&&this.onLoad(),e=Math.abs(s-this.minOffsetY)/this.wrapper.clientHeight*1500,this._tranlate(this.scroller,e)):this.isOutTop?s>this.minOffsetY+this.topTipHeight?(this.offsetY=this.minOffsetY+this.topTipHeight,this._tranlate(this.scroller,300),this.onRefresh()):(this.offsetY=this.minOffsetY,e=Math.abs(s-this.offsetY)/this.wrapper.clientHeight*1500,this._tranlate(this.scroller,e)):(this.offsetY=this.minOffsetY,this._tranlate(this.scroller,0));else{if(this.isOutBottom)this.offsetY=this.maxOffsetY,!this.nomore&&s<this.maxOffsetY-this.bottomTipHeight&&!this.autoLoad&&this.onLoad(),e=Math.abs(s-this.offsetY)/this.wrapper.clientHeight*1500,this._tranlate(this.scroller,e),this.onBottom();else if(this.isOutTop)s>=this.minOffsetY+this.topTipHeight?(this.offsetY=this.minOffsetY+this.topTipHeight,this._tranlate(this.scroller,300),this.onRefresh()):(this.offsetY=this.minOffsetY,e=Math.abs(s-this.offsetY)/this.wrapper.clientHeight*1500,this._tranlate(this.scroller,e));else{var h=this._momentum(this.preY,this.startY,e);this.offsetY=h.destOffsetY,e=h.duration,this._tranlate(this.scroller,e)}this.autoLoad&&!this.nomore&&this.offsetY<=this.maxOffsetY&&this.maxOffsetY<0&&this.onLoad(),clearTimeout(this.barFadeTimeoutId),this.barFadeTimeoutId=setTimeout(function(){i.enableFadeout&&"none"!=i.bar.style.display&&(i.bar.style.transitionDuration="1000ms",window.getComputedStyle?window.getComputedStyle(i.bar,null):i.scroller.currentStyle,i.bar.style.opacity="0")},e+500)}this.onEnd(this.offsetY)}},{key:"_createScrollBar",value:function(){if(this.maxOffsetY>=0)return!1;var t,i=document.createElement("div");return i.setAttribute("style","position:absolute;top:0;right:0;height:"+this.barHeight+"px"),i.setAttribute("class",this.barClassName?this.barClassName:""),this.wrapper.appendChild(i),t=window.getComputedStyle?window.getComputedStyle(i,null):this.scroller.currentStyle,this.barOpacity=t.opacity,i}},{key:"_bindEvent",value:function(t,i,s){window.attachEvent?t.attachEvent("on"+i,s):t.addEventListener(i,s,!1),this.allListener[this.allListener.length]={ele:t,func:s,event:i}}},{key:"_removeEvent",value:function(t,i,s){window.attachEvent?t.detachEvent("on"+i,s):t.removeEventListener(i,s,!1)}},{key:"_removeAllEvent",value:function(){for(var t=0;t<this.allListener.length;t++){var i=this.allListener[t];this._removeEvent(i.ele,i.event,i.func)}}}]),t}();h.OUT_TOP=1,h.OUT_BOTTOM=2,h.REFRESH_ABLE=3,h.LOAD_ABLE=4,i.default=h}]);
//# sourceMappingURL=scroll.min.js.map