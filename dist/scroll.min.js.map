{"version":3,"sources":["webpack:///webpack/bootstrap bd2f38896a8764739a6f","webpack:///./index.js","webpack:///./src/scroll.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__src_scroll__","__WEBPACK_IMPORTED_MODULE_0__src_scroll___default","Scroll","opt","_classCallCheck","this","startY","startTime","endTime","preY","disY","isOutTop","isOutBottom","barFadeTimeoutId","baunceTimeoutId","barOpacity","hasSlideUp","allListener","_init","self","emptyCb","wrapper","scroller","bar","barClassName","enableFadeout","useNativeScroll","enableBar","onStart","onMove","onBottom","onEnd","onLoad","onRefresh","autoLoad","topTip","bottomTip","nomore","topTipHeight","bottomTipHeight","style","display","clientHeight","barHeight","scrollHeight","_createScrollBar","overflow","marginBottom","position","minOffsetY","maxOffsetY","offsetY","_tranlate","_bindEvent","e","_start","_move","_end","window","refresh","Math","abs","scrollTop","height","_removeAllEvent","target","transitionDuration","_offsetY","undefined","currentY","time","deceleration","destOffsetY","inertia","duration","distance","speed","round","matrix","getComputedStyle","currentStyle","indexOf","Number","replace","split","clearTimeout","touches","pageY","opacity","Date","getTime","nowTime","status","preventDefault","stopPropagation","OUT_BOTTOM","LOAD_ABLE","OUT_TOP","REFRESH_ABLE","preOffsetY","obj","_momentum","setTimeout","div","document","createElement","setAttribute","appendChild","ele","event_name","func","attachEvent","addEventListener","length","event","detachEvent","removeEventListener","listener","_removeEvent"],"mappings":"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","file":"scroll.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd2f38896a8764739a6f","import Scroll from './src/scroll';\r\n\r\nexport default Scroll\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 0\n// module chunks = 0","/**\r\n * @Author   Lisong\r\n * @DateTime 2017-08-29\r\n */\r\n\r\nclass Scroll {\r\n    /* opt {\r\n     * wrapper:外部容器DOM,\r\n     * scroller:内容容器DOM,\r\n     * topTip:顶部刷新提示DOM,\r\n     * bottomTip:底部加载提示DOM,\r\n     * onLoad:加载回调,\r\n     * onRefresh:刷新回调,\r\n     * onStart:开始触摸回调,\r\n     * onMove:移动回调,\r\n     * onEnd: 触摸结束,\r\n     * onBottom:滚动到底部回调,\r\n     * barClassName:滚动条样式类,\r\n     * enableBar:是否使用自定义滚动条(仅当useNativeScroll为false时才有意义),\r\n     * enableFadeout:是否允许自定义滚动条渐隐(仅当enableBar为true时才有意义),\r\n     * useNativeScroll:是否使用浏览器自带滚动,\r\n     * autoLoad: 到底部时候是否自动加载\r\n     * }\r\n     */\r\n    constructor(opt) {\r\n        this.startY; //开始的Y坐标\r\n        this.startTime; //触摸开始的时间戳\r\n        this.endTime; //触摸结束的时间戳\r\n        this.preY = 0; //上一次touchmove的Y坐标偏移量\r\n        this.disY; //两次touchmove的间隔Y坐标偏移量\r\n        this.isOutTop = false; //下拉是否超过顶部\r\n        this.isOutBottom = false; //上拉是否超过底部\r\n        this.barFadeTimeoutId = null; //滚动条消失计时器\r\n        this.baunceTimeoutId = null; //回弹计时器\r\n        this.barOpacity = 1; //滚动条初始透明度\r\n        /*滑动过程中是否有向上滑动，某些浏览器默认自带下拉回弹效果，\r\n        如果scroll有向上滑动过，再向下滑动时将无法阻止浏览器默认下拉，\r\n        而浏览器默认下拉将停止触发触摸事件，将引起刷新icon不能回弹的bug\r\n        */\r\n        this.hasSlideUp = false;\r\n        this.allListener = [];\r\n        this._init(opt);\r\n    }\r\n    //初始化\r\n    _init(opt) {\r\n        var self = this;\r\n        var emptyCb = function() {};\r\n        //滚动区域\r\n        this.wrapper = opt.wrapper;\r\n        //滚动的内容\r\n        this.scroller = opt.scroller;\r\n        this.bar = null;\r\n        this.barClassName = opt.barClassName;\r\n        this.enableFadeout = opt.enableFadeout;\r\n        this.useNativeScroll = opt.useNativeScroll;\r\n        this.enableBar = opt.enableBar;\r\n        this.onStart = opt.onStart || emptyCb;\r\n        this.onMove = opt.onMove || emptyCb;\r\n        this.onBottom = opt.onBottom || emptyCb;\r\n        this.onEnd = opt.onEnd || emptyCb;\r\n        this.onLoad = opt.onLoad || emptyCb;\r\n        this.onRefresh = opt.onRefresh || emptyCb;\r\n        this.autoLoad = opt.autoLoad;\r\n        this.topTip = opt.topTip;\r\n        this.bottomTip = opt.bottomTip;\r\n        this.nomore = false;\r\n        this.topTipHeight = 0;\r\n        this.bottomTipHeight = 0;\r\n        if (this.topTip) {\r\n            this.topTip.style.display = 'block';\r\n            this.topTipHeight = this.topTip.clientHeight;\r\n        }\r\n        this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / this.wrapper.scrollHeight);\r\n        this.enableBar && (this.bar = this._createScrollBar()) && (this.bar.style.display = 'none');\r\n        if (this.useNativeScroll) {\r\n            this.wrapper.style.overflow = 'auto';\r\n            this.scroller.style.marginBottom = '-' + this.topTipHeight + 'px';\r\n        } else {\r\n            this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / this.wrapper.scrollHeight);\r\n            this.enableBar && (this.bar = this._createScrollBar()) && (this.bar.style.display = 'none');\r\n            this.scroller.style.overflow = 'visible';\r\n            this.wrapper.style.overflow = 'hidden';\r\n            this.wrapper.style.position = 'relative';\r\n        }\r\n        //最小偏移量\r\n        this.minOffsetY = -this.topTipHeight;\r\n        //设置最大偏移量\r\n        this.maxOffsetY = this.wrapper.clientHeight - this.scroller.clientHeight;\r\n        //当前的偏移量\r\n        this.offsetY = this.minOffsetY;\r\n        //初始化位置\r\n        this._tranlate(this.scroller);\r\n        this._bindEvent(this.wrapper, 'touchstart', function(e) {\r\n            self._start(e);\r\n        });\r\n        this._bindEvent(this.wrapper, 'touchmove', function(e) {\r\n            self._move(e);\r\n        });\r\n        this._bindEvent(this.wrapper, 'touchend', function(e) {\r\n            self._end(e);\r\n        });\r\n        this._bindEvent(window, 'resize', function(e) {\r\n            self.refresh();\r\n        });\r\n        this._bindEvent(this.wrapper, 'scroll', function(e) {\r\n            //自动加载\r\n            if (self.useNativeScroll) {\r\n                if (Math.abs(self.wrapper.scrollTop - Math.abs(self.wrapper.clientHeight - self.wrapper.scrollHeight)) <= self.bottomTipHeight) {\r\n                    self.onBottom();\r\n                    if (self.autoLoad && !self.nomore) {\r\n                        self.onLoad();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //刷新容器\r\n    refresh() {\r\n        var self = this;\r\n        if (!this.useNativeScroll) {\r\n            if (this.offsetY >= this.minOffsetY) {\r\n                this.offsetY = this.minOffsetY;\r\n            } else if (this.offsetY <= this.maxOffsetY) {\r\n                this.offsetY = this.maxOffsetY;\r\n            }\r\n            //设置最大偏移量\r\n            this.maxOffsetY = this.wrapper.clientHeight - this.scroller.clientHeight;\r\n            if (this.bar) {\r\n                this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / (this.wrapper.scrollHeight + this.bottomTipHeight));\r\n                this.bar.style.height = this.barHeight + 'px';\r\n            }\r\n        } else {\r\n            this.offsetY = this.minOffsetY;\r\n        }\r\n        this._tranlate(self.scroller, 500);\r\n    }\r\n    //设置偏移量\r\n    setOffsetY(offsetY) {\r\n        this.offsetY = offsetY;\r\n    }\r\n    scrollTop(offsetY) {\r\n        if (!this.useNativeScroll) {\r\n            //设置偏移量\r\n            this.offsetY = offsetY;\r\n            this._tranlate(this.scroller, 300);\r\n        }\r\n    }\r\n    //加载是否完成\r\n    setNomore(nomore) {\r\n        this.nomore = nomore;\r\n    }\r\n    //销毁\r\n    destroy() {\r\n        this._removeAllEvent();\r\n    }\r\n    /**\r\n     * [_tranlate 移动函数]\r\n     * @param  {DOM} target [目标对象]\r\n     * @param  {Number} transitionDuration [过渡时间，为0时不会触发transitionend事件]\r\n     */\r\n    _tranlate(target, transitionDuration, _offsetY) {\r\n        var offsetY = _offsetY != undefined ? _offsetY : this.offsetY;\r\n        if (!transitionDuration)\r\n            transitionDuration = 0;\r\n        if (transitionDuration) {\r\n            target.style['transitionProperty'] = 'transform';\r\n        } else {\r\n            target.style['transitionProperty'] = 'none';\r\n        }\r\n        target.style['transformOrigin'] = '0px 0px 0px';\r\n        target.style['transitionTimingFunction'] = 'cubic-bezier(0.33, 0.66, 0.66, 1)';\r\n        target.style['transitionDuration'] = transitionDuration + 'ms';\r\n        //translateZ(0)用来启动硬件加速\r\n        target.style['transform'] = 'translateY(' + offsetY + 'px) translateZ(0)';\r\n\r\n        if (this.bar && target == this.scroller) {\r\n            var offsetY = 0;\r\n            if (this.offsetY < this.minOffsetY && this.offsetY > this.maxOffsetY) {\r\n                offsetY = (this.offsetY - this.minOffsetY) / this.maxOffsetY * (this.wrapper.clientHeight - this.barHeight);\r\n            } else if (this.offsetY <= this.maxOffsetY) {\r\n                offsetY = this.wrapper.clientHeight - this.barHeight;\r\n            }\r\n\r\n            this.bar.style['transformOrigin'] = '0px 0px 0px';\r\n            this.bar.style['transitionTimingFunction'] = 'cubic-bezier(0.33, 0.66, 0.66, 1)';\r\n            this.bar.style['transitionDuration'] = transitionDuration + 'ms';\r\n            this.bar.style['transform'] = 'translateY(' + offsetY + 'px) translateZ(0)';\r\n        }\r\n    }\r\n    /**\r\n     * [_momentum 计算惯性滚动的终点偏移量和惯性滚动的时长]\r\n     * @param  {Number} currentY     [当前的Y坐标]\r\n     * @param  {Number} startY       [触摸开始的Y坐标]\r\n     * @param  {Number} time         [触摸时长]\r\n     * @param  {Number} deceleration [加速度]\r\n     * @return {Object}              [{destOffsetY:终点偏移量，duration:滚动时长}]\r\n     */\r\n    _momentum(currentY, startY, time, deceleration) {\r\n        var distance = currentY - startY,\r\n            speed = Math.abs(distance) / time,\r\n            destOffsetY,\r\n            inertia,\r\n            duration;\r\n\r\n        deceleration = deceleration ? deceleration : 0.0006;\r\n        //物理公式计算惯性滚动距离\r\n        inertia = (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\r\n        //惯性滚动终点偏移量\r\n        destOffsetY = this.offsetY + inertia;\r\n        //惯性滚动时长，速度/加速度\r\n        duration = speed / deceleration;\r\n        //如果惯性终点偏移量会超过顶部或者底部，需要减少时长，以免超出\r\n        if (destOffsetY < this.maxOffsetY && this.maxOffsetY < this.minOffsetY) {\r\n            destOffsetY = this.maxOffsetY;\r\n            distance = Math.abs(this.offsetY - destOffsetY);\r\n            duration = distance / speed;\r\n        } else if (destOffsetY > this.minOffsetY) {\r\n            destOffsetY = this.minOffsetY;\r\n            distance = Math.abs(this.offsetY - destOffsetY);\r\n            duration = distance / speed;\r\n        } else if (this.maxOffsetY > this.minOffsetY && destOffsetY < this.minOffsetY) { //如果容器大于内容的高度\r\n            destOffsetY = this.minOffsetY;\r\n        }\r\n\r\n        return {\r\n            destOffsetY: Math.round(destOffsetY),\r\n            duration: duration\r\n        }\r\n    }\r\n    //触摸开始\r\n    _start(e) {\r\n        //获取transition过渡未结束的transform值\r\n        var style = window.getComputedStyle ? window.getComputedStyle(this.scroller, null) : null || this.scroller.currentStyle;\r\n        var matrix = style['transform'];\r\n        if (matrix.indexOf('matrix') > -1) {\r\n            if (this.bar) {\r\n                //强制刷新\r\n                window.getComputedStyle ? window.getComputedStyle(this.bar, null) : null || this.scroller.currentStyle;\r\n            }\r\n            this.offsetY = Number(matrix.replace(/matrix\\(|\\)/g, '').split(',')[5]);\r\n            this._tranlate(this.scroller);\r\n        }\r\n        if (!this.useNativeScroll) {\r\n            if (this.enableFadeout) {\r\n                this.bar.style['transitionDuration'] = '0ms';\r\n                window.getComputedStyle ? window.getComputedStyle(this.bar, null) : null || this.scroller.currentStyle;\r\n                this.bar.style.opacity = this.barOpacity;\r\n                this.bar.style.display = 'block';\r\n            }\r\n            this.startTime = new Date().getTime();\r\n            this.preY = this.startY = e.touches[0].pageY;\r\n            clearTimeout(this.barFadeTimeoutId);\r\n        } else {\r\n            clearTimeout(this.baunceTimeoutId);\r\n            this.preY = this.startY = e.touches[0].pageY;\r\n        }\r\n        if (this.wrapper.scrollTop == 0) {\r\n            this.hasSlideUp = false;\r\n        }\r\n        this.onStart(this.offsetY);\r\n    }\r\n    //触摸移动\r\n    _move(e) {\r\n        this.disY = e.touches[0].pageY - this.preY;\r\n        this.preY = e.touches[0].pageY;\r\n        var nowTime = new Date().getTime(),\r\n            status = -1;\r\n        //超过300ms，重置startTime，用于回弹和惯性滚动计算开始时间\r\n        if (nowTime - this.startTime > 300) {\r\n            this.startTime = nowTime;\r\n            this.startY = e.touches[0].pageY;\r\n        }\r\n        //300ms以上的时间只滑动了10像素，则不移动\r\n        if (this.disY < 10 && nowTime - this.startTime > 300)\r\n            return;\r\n        if (!this.useNativeScroll) { //自定义滚动\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            //上拉或者下拉超出后,降低两次touchmove之间Y的偏移量\r\n            if (this.offsetY < this.maxOffsetY && this.maxOffsetY < 0) {\r\n                this.isOutBottom = true;\r\n                this.isOutTop = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_BOTTOM;\r\n                if (!this.nomore && this.offsetY < this.maxOffsetY - this.bottomTipHeight && !this.autoLoad) {\r\n                    status = Scroll.LOAD_ABLE;\r\n                }\r\n            } else if (this.offsetY > this.minOffsetY) {\r\n                this.isOutTop = true;\r\n                this.isOutBottom = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_TOP;\r\n                if (this.offsetY >= this.minOffsetY + this.topTipHeight) {\r\n                    status = Scroll.REFRESH_ABLE;\r\n                }\r\n            } else {\r\n                this.isOutTop = false;\r\n                this.isOutBottom = false;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n            }\r\n        } else { //浏览器自带滚动\r\n            this.disY < 0 && (this.hasSlideUp = true);\r\n            if (Math.abs(this.wrapper.scrollTop - Math.abs(this.wrapper.clientHeight - this.wrapper.scrollHeight)) < 2 && this.offsetY + this.disY < this.minOffsetY) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutBottom = true;\r\n                this.isOutTop = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_BOTTOM;\r\n                if (!this.nomore && this.offsetY < -this.bottomTipHeight + this.minOffsetY && !this.autoLoad) {\r\n                     status = Scroll.LOAD_ABLE;\r\n                }\r\n            } else if (this.wrapper.scrollTop == 0 && this.offsetY + this.disY > this.minOffsetY && (this.offsetY > this.minOffsetY || !this.hasSlideUp)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutTop = true;\r\n                this.isOutBottom = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_TOP;\r\n                if (this.offsetY > this.minOffsetY + this.topTipHeight) {\r\n                    status = Scroll.REFRESH_ABLE;\r\n                }\r\n            } else if (Math.abs(this.offsetY - this.minOffsetY) > 5) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutTop = false;\r\n                this.isOutBottom = false;\r\n                this.offsetY = this.disY;\r\n                this._tranlate(this.scroller);\r\n            }\r\n        }\r\n\r\n        this.onMove(this.offsetY, status);\r\n    }\r\n    //触摸结束\r\n    _end(e) {\r\n        var self = this;\r\n        var preOffsetY = this.offsetY;\r\n        this.endTime = new Date().getTime();\r\n        var duration = this.endTime - this.startTime;\r\n        if (!this.useNativeScroll) { //translate滚动结束\r\n            if (this.isOutBottom) {\r\n                this.offsetY = this.maxOffsetY;\r\n                //手动加载\r\n                if (!this.nomore && preOffsetY < this.maxOffsetY - this.bottomTipHeight && !this.autoLoad) {\r\n                    this.onLoad();\r\n                }\r\n                duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                this._tranlate(this.scroller, duration);\r\n                this.onBottom();\r\n            } else if (this.isOutTop) {\r\n                if (preOffsetY >= this.minOffsetY + this.topTipHeight) {\r\n                    this.offsetY = this.minOffsetY + this.topTipHeight;\r\n                    this._tranlate(this.scroller, 300);\r\n                    this.onRefresh();\r\n                } else {\r\n                    this.offsetY = this.minOffsetY;\r\n                    duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                    this._tranlate(this.scroller, duration);\r\n                }\r\n            } else {\r\n                var obj = this._momentum(this.preY, this.startY, duration);\r\n                this.offsetY = obj.destOffsetY;\r\n                duration = obj.duration;\r\n                this._tranlate(this.scroller, duration);\r\n            }\r\n            //自动加载\r\n            if (this.autoLoad && !this.nomore) {\r\n                if (this.offsetY <= this.maxOffsetY && this.maxOffsetY < 0) {\r\n                    this.onLoad();\r\n                }\r\n            }\r\n            clearTimeout(this.barFadeTimeoutId);\r\n            //滚动条渐隐timer\r\n            this.barFadeTimeoutId = setTimeout(function() {\r\n                if (self.enableFadeout && self.bar.style.display != 'none') {\r\n                    self.bar.style['transitionDuration'] = '1000ms';\r\n                    window.getComputedStyle ? window.getComputedStyle(self.bar, null) : null || self.scroller.currentStyle;\r\n                    self.bar.style.opacity = '0';\r\n                }\r\n            }, duration + 500);\r\n        } else { //原生scroll滚动结束\r\n            if (this.isOutBottom) {\r\n                this.offsetY = this.minOffsetY;\r\n                //手动加载\r\n                if (!this.nomore && preOffsetY < -this.bottomTipHeight + this.minOffsetY && !this.autoLoad) {\r\n                    this.onLoad();\r\n                }\r\n                duration = Math.abs(preOffsetY - this.minOffsetY) / this.wrapper.clientHeight * 1500;\r\n                this._tranlate(this.scroller, duration);\r\n            } else if (this.isOutTop) {\r\n                if (preOffsetY > this.minOffsetY + this.topTipHeight) {\r\n                    this.offsetY = this.minOffsetY + this.topTipHeight;\r\n                    this._tranlate(this.scroller, 300);\r\n                    this.onRefresh();\r\n                } else {\r\n                    this.offsetY = this.minOffsetY;\r\n                    duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                    this._tranlate(this.scroller, duration);\r\n                }\r\n\r\n            } else {\r\n                this.offsetY = this.minOffsetY;\r\n                this._tranlate(this.scroller, 0);\r\n            }\r\n        }\r\n        this.onEnd(this.offsetY);\r\n    }\r\n    //创建滚动条\r\n    _createScrollBar() {\r\n        if (this.maxOffsetY >= 0)\r\n            return false;\r\n        var style = null;\r\n        var div = document.createElement('div');\r\n        div.setAttribute('style', 'position:absolute;top:0;right:0;height:' + this.barHeight + 'px');\r\n        div.setAttribute('class', this.barClassName ? this.barClassName : '');\r\n        this.wrapper.appendChild(div);\r\n        style = window.getComputedStyle ? window.getComputedStyle(div, null) : null || this.scroller.currentStyle;\r\n        this.barOpacity = style.opacity;\r\n        return div;\r\n    }\r\n    //事件绑定函数\r\n    _bindEvent(ele, event_name, func) {\r\n        if (window.attachEvent) {\r\n            ele.attachEvent('on' + event_name, func);\r\n        } else {\r\n            ele.addEventListener(event_name, func, false); //默认事件是冒泡\r\n        }\r\n        this.allListener[this.allListener.length] = {\r\n            ele: ele,\r\n            func: func,\r\n            event: event_name\r\n        }\r\n    }\r\n    _removeEvent(ele, event_name, func) {\r\n        if (window.attachEvent) {\r\n            ele.detachEvent('on' + event_name, func);\r\n        } else {\r\n            ele.removeEventListener(event_name, func, false);\r\n        }\r\n    }\r\n    _removeAllEvent() {\r\n        for (var i = 0; i < this.allListener.length; i++) {\r\n            var listener = this.allListener[i];\r\n            this._removeEvent(listener.ele, listener.event, listener.func);\r\n        }\r\n    }\r\n}\r\nScroll.OUT_TOP = 1;\r\nScroll.OUT_BOTTOM = 2;\r\nScroll.REFRESH_ABLE = 3;\r\nScroll.LOAD_ABLE = 4;\r\n\r\nexport default Scroll;\n\n\n// WEBPACK FOOTER //\n// ./src/scroll.js"],"sourceRoot":""}